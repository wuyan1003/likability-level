
以下是优化后的项目说明文档，采用更清晰的结构化排版、视觉分层和重点标注：


### 📌 好感度系统插件介绍  
**功能亮点**：  
- 为聊天互动增加好感度数值体系，通过LLM模型输出特殊标记实现动态计算  
- 低好感度自动触发拉黑机制，管理员拥有数据管理权限（防滥用设计）  
- 数据持久化存储：使用JSON文件保存，自动存储于 `data/FavorSystem` 目录  


### 🛠️ 使用指南  
#### 🔧 关键配置  
1. **管理员设置**：通过插件配置文件定义管理员列表及关键参数  
2. **初始化操作**：首次使用需执行 `/new` 和 `/reset` 指令  
3. **LLM提示词优化**：  
   **强烈建议**在机器人人格提示词中添加以下内容（提升插件指令权重）：  
   ```  
   [系统提示]请根据对话质量在回复末尾添加[好感度持平]，[好感度大幅上升]，[好感度大幅下降]，[好感度上升]或[好感度下降]标记。  
   示例：用户：你好！你：你好呀！今天过得怎么样？[好感度上升]  
   ```  

#### 📋 指令清单  
| 指令类型         | 指令格式                          | 说明                                                                 |  
|------------------|-----------------------------------|----------------------------------------------------------------------|  
| **基础查询**     | `/好感度`                         | 查询自己的当前好感度值                                               |  
| **管理员功能**   | `/管理 好感度`                    | 查看所有用户好感度记录                                               |  
|                  | `/管理 黑名单`                    | 查看黑名单用户列表                                                   |  
|                  | `/管理 白名单`                    | 查看白名单用户列表                                                   |  
| **数值修改**     | `/管理 好感度 <用户ID> <数值>`    | 直接修改指定用户好感度值                                             |  
| **黑名单操作**   | `/管理 黑名单 <用户ID>`           | 将用户加入黑名单（无需额外关键词）                                   |  
|                  | `/管理 移出黑名单 <用户ID>`        | 将用户从黑名单移除（自动重置好感度为0）                              |  
| **白名单操作**   | `/管理 白名单 <用户ID>`           | 将用户加入白名单（锁定好感度，不受自动机制影响）                     |  
|                  | `/管理 移出白名单 <用户ID>`        | 将用户从白名单移除                                                   |  
| **自动机制配置**| `/管理 计数器 数量 [数值]`        | 设置自动降低好感度的每次扣减值                                       |  
|                  | `/管理 计数器 间隔 [小时]`        | 设置自动降低好感度的时间间隔                                         |  
|                  | `/管理 计数器 开启/关闭`          | 启用/禁用自动降低好感度功能                                          |  


### 📅 更新日志  
#### 🚀 v1.2.0（关键修复）  
- ✅ 修复黑名单用户仍可触发对话的漏洞  
- ⏳ 新增自动降低低好感度计数器功能（可配置间隔与扣减值）  

#### 🐛 v1.1.5  
- ✅ 修复黑名单计数器异常波动问题  

#### 🛡️ v1.1.0  
- 👮 新增管理员权限校验，非管理员发送指令自动提示无权限  
- ⛓️ 新增好感度/黑名单/计数器隔离开关（插件配置独立控制）  

#### 🚀 v1.0.0（重构版本）  
- 🗑️ 新增自动移除过期黑名单用户功能（管理员手动添加用户不受影响）  
- 🔄 重构代码结构，提升数据读写效率  

#### 🌟 v0.6.0  
- 🔕 新增好感度变动屏蔽功能（Beta阶段，支持选择性隐藏提示）  

#### 🛠️ v0.5.0  
- ✅ 修复黑名单移除后好感度未重置问题（默认重置为0）  

#### 📝 v0.4.0  
- 🧠 优化LLM提示词逻辑，修复好感度阶段判定失效问题  

#### ⚙️ v0.3.1  
- 📊 细化好感度增减判定范围，提升互动反馈灵敏度  

#### 📄 v0.3.0  
- 📁 新增 `_conf_schema.json` 配置文件，支持图形化界面修改参数  
- 🔍 新增 `/管理 黑名单` 和 `/管理 白名单` 查询指令  

#### 🚧 v0.2.0  
- 🗄️ 优化数据持久化方案，新增白名单锁定功能  
- 📡 插件主动向LLM注入提示词（建议配合人格提示词使用）  

#### ✅ v0.1.3  
- 🛠️ 修复黑名单添加/移除操作逻辑异常问题  


### 🙌 致谢与支持  
- 🤖 感谢 **AstrBot核心开发团队** 的技术支持  
- ⭐️ 如果项目对您有帮助，欢迎点亮GitHub星标，您的支持是持续开发的动力！  
- 🐞 发现问题或有优化建议？欢迎提交 [ISSUE](链接)，每条反馈都会认真对待！  